"use strict";(self.webpackChunkfe_coding_challenge=self.webpackChunkfe_coding_challenge||[]).push([[717],{9717:(N,v,c)=>{c.r(v),c.d(v,{MoviesModule:()=>R});var d=c(6814),g=c(636),r=c(4221),O=c(1568);const y=(0,r.Lq)({Search:[],Decades:[]},(0,r.on)(O.a,(t,{movies:s})=>({...t,Search:s.Search,Decades:s.Decades}))),u=(0,r.ZF)("movies"),_=(0,r.P1)(u,t=>t.Search),k=(0,r.P1)(u,t=>t.Decades);var C=c(8645),h=c(2572),M=c(9773),e=c(5879),m=c(349);function Z(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"button",2),e.NdJ("click",function(){const o=e.CHM(i),a=o.$implicit,l=o.index,Y=e.oxw(2);return e.KtG(Y.onClick(a,l))}),e._uU(1),e.qZA()}if(2&t){const i=s.$implicit;e.ekj("active",i.isActive),e.xp6(1),e.hij(" ",i.label," ")}}function T(t,s){if(1&t&&(e.TgZ(0,"nav"),e.YNc(1,Z,2,3,"button",1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.links)}}let b=(()=>{var t;class s{constructor(){this.linkClicked=new e.vpe}onClick(n,o){this.linkClicked.emit({...n,index:o})}}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sidebar"]],inputs:{links:"links"},outputs:{linkClicked:"linkClicked"},decls:1,vars:1,consts:[[4,"ngIf"],["class","nav",3,"active","click",4,"ngFor","ngForOf"],[1,"nav",3,"click"]],template:function(n,o){1&n&&e.YNc(0,T,2,1,"nav",0),2&n&&e.Q6J("ngIf",o.links.length)},dependencies:[d.sg,d.O5],styles:["nav[_ngcontent-%COMP%]{margin-bottom:40px;text-align:right}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block;background:#f7f8f9;color:#61696e;font-family:Open Sans,Verdana,Tahoma,sans-serif;font-size:1rem;font-weight:700;padding:1rem 1.5rem;border:1px solid #c2cad0;border-left-color:transparent;cursor:default}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{border-left:1px solid #c2cad0;border-top-left-radius:8px;border-bottom-left-radius:8px}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{border-left-color:transparent;border-top-right-radius:8px;border-bottom-right-radius:8px}nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#1a72b0;color:#fff;text-shadow:3px 4px 0px rgba(0,0,0,.1);border:1px solid #1a72b0}"]}),s})(),x=(()=>{var t;class s{constructor(n){this.router=n,this.updateDecade=new e.vpe}ngOnInit(){this.links=[{isActive:!this.currDecade,label:"All"},...this.decades.map(n=>({isActive:this.currDecade===n,label:`${n}'s`}))]}passDecade({index:n,label:o}){this.links=this.links.map(l=>({...l,isActive:!1})),this.links[n].isActive=!0;const a="All"===o?void 0:parseInt(o.replace("'s",""));this.updateDecade.emit(a)}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(g.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-decades"]],inputs:{currDecade:"currDecade",decades:"decades"},outputs:{updateDecade:"updateDecade"},decls:1,vars:1,consts:[[3,"links","linkClicked"]],template:function(n,o){1&n&&(e.TgZ(0,"app-sidebar",0),e.NdJ("linkClicked",function(l){return o.passDecade(l)}),e.qZA()),2&n&&e.Q6J("links",o.links)},dependencies:[b],encapsulation:2}),s})(),p=(()=>{var t;class s{constructor(n){this.router=n}goTo(...n){return this.router.navigate(n).then(o=>{if(!o)throw(0,e.X6Q)()&&console.error("Navigation has failed"),new Error("Something went wrong!")})}}return(t=s).\u0275fac=function(n){return new(n||t)(e.LFG(g.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),D=(()=>{var t;class s{constructor(n){this.navigationService=n}navigateTo(n){this.navigationService.goTo("/movies",n)}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-go-details"]],inputs:{imdbId:"imdbId"},decls:2,vars:0,consts:[[1,"detail",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.navigateTo(o.imdbId)}),e._uU(1,"View Details"),e.qZA())},encapsulation:2}),s})();function w(t,s){if(1&t){const i=e.EpF();e.TgZ(0,"app-decades",3),e.NdJ("updateDecade",function(o){e.CHM(i);const a=e.oxw();return e.KtG(a.displayMovies(o))}),e.qZA()}if(2&t){const i=e.oxw();e.Q6J("decades",i.decades)("currDecade",i.currDecade)}}function S(t,s){if(1&t&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"img",6),e.qZA(),e.TgZ(3,"div",7)(4,"div",8),e._uU(5),e._UZ(6,"hr"),e.qZA(),e.TgZ(7,"div",9)(8,"div",10)(9,"div",11)(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"div",12),e._uU(13),e.qZA(),e.TgZ(14,"div",13),e._uU(15),e.qZA()(),e.TgZ(16,"div",14),e._uU(17),e.qZA()(),e.TgZ(18,"div",15),e._UZ(19,"app-go-details",16),e.qZA()()()),2&t){const i=s.$implicit;e.xp6(2),e.Q6J("ngSrc",i.Poster),e.xp6(3),e.hij(" ",i.Title," "),e.xp6(6),e.Oqu(i.Rated),e.xp6(2),e.Oqu(i.Runtime),e.xp6(2),e.Oqu(i.Released),e.xp6(2),e.hij(" ",i.Plot," "),e.xp6(2),e.Q6J("imdbId",i.imdbID)}}let A=(()=>{var t;class s{constructor(n,o){this.dataService=n,this.store=o,this.decades=[],this.filteredMovies=[],this.movies=[],this.destroySubject=new C.x}ngOnInit(){const n=this.store.pipe((0,r.Ys)(_)),o=this.store.pipe((0,r.Ys)(k));(0,h.a)([n,o]).pipe((0,M.R)(this.destroySubject)).subscribe({next:a=>{this.movies=a[0],this.decades=a[1],this.dataService.setMovies(this.movies,this.decades),this.displayMovies()}})}trackMoviesBy(n,o){return o.imdbID}ngOnDestroy(){this.destroySubject.next(!0),this.destroySubject.complete()}displayMovies(n){this.movies?.length?(this.currDecade=n,this.filteredMovies=this.dataService.getFilteredMovies(this.movies,n)):this.filteredMovies=[]}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(m.D),e.Y36(r.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-movies"]],inputs:{moviesData:"moviesData"},decls:3,vars:3,consts:[[3,"decades","currDecade","updateDecade",4,"ngIf"],[1,"movies"],["class","movie-grid",4,"ngFor","ngForOf","ngForTrackBy"],[3,"decades","currDecade","updateDecade"],[1,"movie-grid"],[1,"image-section"],["width","100","height","100",3,"ngSrc"],[1,"details-section"],[1,"title"],[1,"body"],[1,"metadata"],[1,"rated"],[1,"runtime"],[1,"release"],[1,"plot"],[1,"action-btn"],[3,"imdbId"]],template:function(n,o){1&n&&(e.YNc(0,w,1,2,"app-decades",0),e.TgZ(1,"div",1),e.YNc(2,S,20,7,"div",2),e.qZA()),2&n&&(e.Q6J("ngIf",o.decades.length),e.xp6(2),e.Q6J("ngForOf",o.filteredMovies)("ngForTrackBy",o.trackMoviesBy))},dependencies:[d.sg,d.O5,d.Zd,x,D],styles:[".movies[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:center;width:100%}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:25% 75%;border:2px solid #303436;gap:1rem;padding:1rem;background:#e8ebee;width:60%;height:20rem}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]{height:inherit}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-rows:3.5rem auto auto}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding-right:1rem;gap:1rem;align-items:center;padding-bottom:1rem}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]   .release[_ngcontent-%COMP%]{padding-right:1rem;margin-left:auto}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]   .rated[_ngcontent-%COMP%]{border:1px solid grey;width:max-content;padding:.3rem;border-radius:.5rem;color:gray}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .casting[_ngcontent-%COMP%]{padding-bottom:1rem}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .plot[_ngcontent-%COMP%]{font-size:large;word-wrap:break-word;max-width:95%;line-height:1.5}.movies[_ngcontent-%COMP%]   .movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:1rem}"]}),s})(),I=(()=>{var t;class s{constructor(n){this.navigationService=n,this.links=[{label:"Go Back",isActive:!0}]}navigateTo(){this.navigationService.goTo("/")}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-go-back"]],decls:1,vars:1,consts:[[3,"links","linkClicked"]],template:function(n,o){1&n&&(e.TgZ(0,"app-sidebar",0),e.NdJ("linkClicked",function(){return o.navigateTo()}),e.qZA()),2&n&&e.Q6J("links",o.links)},dependencies:[b],encapsulation:2}),s})(),q=(()=>{var t;class s{navigateTo(n){window.open("https://www.imdb.com/title/"+n,"imdbWindow")}}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-go-imdb"]],inputs:{imdbId:"imdbId"},decls:2,vars:0,consts:[[1,"imdb",3,"click"]],template:function(n,o){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.navigateTo(o.imdbId)}),e._uU(1,"View on IMDB"),e.qZA())},encapsulation:2}),s})(),G=(()=>{var t;class s{constructor(n,o,a){this.activatedRoute=n,this.dataService=o,this.store=a,this.destroySubject$=new C.x}ngOnInit(){const n=this.activatedRoute.params,o=this.store.pipe((0,r.Ys)(_));(0,h.a)([n,o]).pipe((0,M.R)(this.destroySubject$)).subscribe({next:a=>{this.movieId=a[0]?.id,this.movie=a[1].find(l=>l.imdbID===this.movieId)}})}ngOnDestroy(){this.destroySubject$.next(!0),this.destroySubject$.complete()}}return(t=s).\u0275fac=function(n){return new(n||t)(e.Y36(g.gz),e.Y36(m.D),e.Y36(r.yh))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-movie"]],decls:36,vars:11,consts:[[1,"movie-grid"],[1,"image-section"],["width","100","height","100",3,"ngSrc"],[1,"details-section"],[1,"title"],[1,"body"],[1,"metadata"],[1,"rated"],[1,"genre"],[1,"runtime"],[1,"release"],[1,"casting"],[1,"plot"],[1,"action-btn"],[3,"imdbId"]],template:function(n,o){1&n&&(e._UZ(0,"app-go-back"),e.TgZ(1,"div",0)(2,"div",1),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._uU(6),e._UZ(7,"hr"),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"div",8),e._uU(14),e.qZA(),e.TgZ(15,"div",9),e._uU(16),e.qZA(),e.TgZ(17,"div",10),e._uU(18),e.qZA()(),e.TgZ(19,"div",11)(20,"div")(21,"strong"),e._uU(22,"Director:"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"div")(25,"strong"),e._uU(26,"Writer:"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"div")(29,"strong"),e._uU(30,"Stars:"),e.qZA(),e._uU(31),e.qZA()(),e.TgZ(32,"div",12),e._uU(33),e.qZA()(),e.TgZ(34,"div",13),e._UZ(35,"app-go-imdb",14),e.qZA()()()),2&n&&(e.xp6(3),e.Q6J("ngSrc",o.movie.Poster),e.xp6(3),e.hij(" ",o.movie.Title," "),e.xp6(6),e.Oqu(o.movie.Rated),e.xp6(2),e.Oqu(o.movie.Genre),e.xp6(2),e.Oqu(o.movie.Runtime),e.xp6(2),e.Oqu(o.movie.Released),e.xp6(5),e.hij(" ",o.movie.Director," "),e.xp6(4),e.hij(" ",o.movie.Writer," "),e.xp6(4),e.hij(" ",o.movie.Actors," "),e.xp6(2),e.hij(" ",o.movie.Plot," "),e.xp6(2),e.Q6J("imdbId",o.movie.imdbID))},dependencies:[d.Zd,I,q],styles:[".movie-grid[_ngcontent-%COMP%]{margin-left:10%;display:grid;grid-template-columns:25% 75%;border:2px solid #303436;gap:1rem;padding:1rem;background:#e8ebee;width:60%;height:20rem}.movie-grid[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]{height:inherit}.movie-grid[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-rows:3.5rem auto auto}.movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding-right:1rem;gap:1rem;align-items:center;padding-bottom:1rem}.movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]   .release[_ngcontent-%COMP%]{padding-right:1rem;margin-left:auto}.movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]   .rated[_ngcontent-%COMP%]{border:1px solid grey;width:max-content;padding:.3rem;border-radius:.5rem;color:gray}.movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .casting[_ngcontent-%COMP%]{padding-bottom:1rem}.movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .plot[_ngcontent-%COMP%]{font-size:large;word-wrap:break-word;max-width:95%;line-height:1.5}.movie-grid[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:1rem}"]}),s})(),f=(()=>{var t;class s{constructor(n,o){this.dataService=n,this.router=o}canActivate(n,o){return!!this.dataService.hasMovies()||(this.router.navigate(["/"]),!1)}}return(t=s).\u0275fac=function(n){return new(n||t)(e.LFG(m.D),e.LFG(g.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const j=[{path:"",component:A,resolve:{moviesData:(t,s)=>{(0,e.f3M)(m.D).loadMoviesDataToStore()}}},{path:":id",component:G,canActivate:[f]}];let J=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(j),g.Bz]}),s})(),B=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez]}),s})(),R=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[m.D,p,(0,d.Fs)("https://m.media-amazon.com/images/M/"),f],imports:[d.ez,J,B,r.Aw.forFeature("movies",y)]}),s})()}}]);